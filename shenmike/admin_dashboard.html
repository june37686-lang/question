<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>控制台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#4080FF',
                        success: '#00B42A',
                        warning: '#FF7D00',
                        danger: '#F53F3F',
                        info: '#86909C',
                        light: '#F2F3F5',
                        dark: '#1D2129',
                    },
                    fontFamily: {
                        sans: ['PingFang SC', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .sidebar-item-active {
                background-color: #E8F3FF;
                color: #165DFF;
                border-right: 3px solid #165DFF;
            }
            .card-shadow {
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            }
        }
    </style>
</head>
<body class="bg-gray-100 font-sans text-dark">
    <div class="flex h-screen overflow-hidden">
        <!-- 侧边栏 -->
        <aside class="w-64 bg-white h-full shadow-md flex-shrink-0">
            <!-- 系统标题 -->
                <div class="h-16 flex items-center justify-center border-b border-gray-200">
                    <h1 class="text-xl font-bold text-primary">CRM客户体验管理综合平台</h1>
                </div>
                
                <!-- 侧边菜单 -->
                <nav class="py-4">
                    <div class="px-4 py-2 text-xs font-medium text-gray-500">问卷管理</div>
                    <a href="#" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-list-ul w-6"></i>
                        <span>问卷列表</span>
                    </a>
                    <a href="#" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-volume-up w-6"></i>
                        <span>语音列表</span>
                    </a>
                    
                    <div class="px-4 py-2 text-xs font-medium text-gray-500 mt-4">神秘客调研</div>
                    <a href="#" class="flex items-center px-4 py-3 text-sm sidebar-item-active">
                        <i class="fa fa-tachometer w-6"></i>
                        <span>控制台</span>
                    </a>
                    <a href="questionnaire_list.html" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-question-circle w-6"></i>
                        <span>神秘客问卷</span>
                    </a>
                    <a href="audio_review.html" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-headphones w-6"></i>
                        <span>录音审核</span>
                    </a>
                    <a href="score_management.html" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-bar-chart w-6"></i>
                        <span>成绩统计</span>
                    </a>
                    <a href="appeal_management.html" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-gavel w-6"></i>
                        <span>申诉管理</span>
                    </a>
                    <a href="Master Data Management.html" class="flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-50">
                        <i class="fa fa-database w-6"></i>
                        <span>门店主数据</span>
                    </a>
                </nav>
        </aside>
        
        <!-- 主内容区 -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- 顶部导航栏 -->
            <header class="h-16 bg-white shadow-sm flex items-center justify-between px-6">
                <div class="flex items-center">
                    <button id="toggle-sidebar" class="mr-4 text-gray-500 hover:text-primary">
                        <i class="fa fa-bars text-xl"></i>
                    </button>
                    <h2 class="text-lg font-medium">CRM客户体验管理综合平台</h2>
                </div>
                <div class="flex items-center space-x-4">
                    <button class="relative text-gray-500 hover:text-primary">
                        <i class="fa fa-bell text-xl"></i>
                        <span class="absolute -top-1 -right-1 w-4 h-4 bg-danger rounded-full text-white text-xs flex items-center justify-center">3</span>
                    </button>
                    <div class="flex items-center">
                        <img src="https://picsum.photos/id/1005/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover mr-2">
                        <span class="text-sm font-medium">管理员</span>
                        <i class="fa fa-angle-down ml-2 text-gray-500"></i>
                    </div>
                </div>
            </header>
            
            <!-- 内容区域 -->
            <main class="flex-1 overflow-y-auto p-6">
                <!-- 统计卡片 -->
                <div class="grid grid-cols-4 gap-6 mb-6">
                    <div class="bg-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-medium text-gray-500">门店总数</h3>
                            <span class="w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary">
                                <i class="fa fa-building"></i>
                            </span>
                        </div>
                        <p class="text-2xl font-bold">128</p>
                        <div class="mt-2 text-xs text-success flex items-center">
                            <i class="fa fa-arrow-up mr-1"></i> 12.5% 较上月
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-medium text-gray-500">本月走访</h3>
                            <span class="w-10 h-10 rounded-full bg-secondary/10 flex items-center justify-center text-secondary">
                                <i class="fa fa-calendar-check-o"></i>
                            </span>
                        </div>
                        <p class="text-2xl font-bold">45</p>
                        <div class="mt-2 text-xs text-success flex items-center">
                            <i class="fa fa-arrow-up mr-1"></i> 8.3% 较上月
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-medium text-gray-500">待审核任务</h3>
                            <span class="w-10 h-10 rounded-full bg-warning/10 flex items-center justify-center text-warning">
                                <i class="fa fa-clock-o"></i>
                            </span>
                        </div>
                        <p class="text-2xl font-bold">12</p>
                        <div class="mt-2 text-xs text-danger flex items-center">
                            <i class="fa fa-arrow-up mr-1"></i> 3.2% 较昨日
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="text-sm font-medium text-gray-500">申诉数量</h3>
                            <span class="w-10 h-10 rounded-full bg-danger/10 flex items-center justify-center text-danger">
                                <i class="fa fa-gavel"></i>
                            </span>
                        </div>
                        <p class="text-2xl font-bold">5</p>
                        <div class="mt-2 text-xs text-success flex items-center">
                            <i class="fa fa-arrow-down mr-1"></i> 4.8% 较上周
                        </div>
                    </div>
                </div>
                
                <!-- 图表区域 -->
                <div class="grid grid-cols-2 gap-6 mb-6">
                    <div class="bg-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-base font-medium">走访完成率</h3>
                            <div class="flex items-center text-sm text-gray-500">
                                <span>近6个月</span>
                                <i class="fa fa-angle-down ml-2"></i>
                            </div>
                        </div>
                        <div class="h-64">
                            <canvas id="visitCompletionChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-6 card-shadow">
                        <div class="flex items-center justify-between mb-6">
                            <h3 class="text-base font-medium">门店评分分布</h3>
                            <div class="flex items-center text-sm text-gray-500">
                                <span>当前季度</span>
                                <i class="fa fa-angle-down ml-2"></i>
                            </div>
                        </div>
                        <div class="h-64">
                            <canvas id="storeRatingChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- 待办事项 -->
                <div class="bg-white rounded-lg p-6 card-shadow">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-base font-medium">近期待办事项</h3>
                        <a href="#" class="text-sm text-primary">查看全部</a>
                    </div>
                    <div class="space-y-4">
                        <div class="flex items-center p-4 border border-gray-100 rounded-lg hover:bg-gray-50">
                            <div class="mr-4">
                                <input type="checkbox" class="w-5 h-5 text-primary rounded">
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-medium">完成8月神秘客走访计划制定</h4>
                                <p class="text-xs text-gray-500 mt-1">截止日期：2023-08-10</p>
                            </div>
                            <div class="px-2 py-1 text-xs bg-warning/10 text-warning rounded">
                                紧急
                            </div>
                        </div>
                        <div class="flex items-center p-4 border border-gray-100 rounded-lg hover:bg-gray-50">
                            <div class="mr-4">
                                <input type="checkbox" class="w-5 h-5 text-primary rounded">
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-medium">审核7月神秘客走访录音</h4>
                                <p class="text-xs text-gray-500 mt-1">截止日期：2023-08-15</p>
                            </div>
                            <div class="px-2 py-1 text-xs bg-primary/10 text-primary rounded">
                                正常
                            </div>
                        </div>
                        <div class="flex items-center p-4 border border-gray-100 rounded-lg hover:bg-gray-50">
                            <div class="mr-4">
                                <input type="checkbox" class="w-5 h-5 text-primary rounded">
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-medium">处理门店申诉申请</h4>
                                <p class="text-xs text-gray-500 mt-1">截止日期：2023-08-12</p>
                            </div>
                            <div class="px-2 py-1 text-xs bg-danger/10 text-danger rounded">
                                紧急
                            </div>
                        </div>
                        <div class="flex items-center p-4 border border-gray-100 rounded-lg hover:bg-gray-50">
                            <div class="mr-4">
                                <input type="checkbox" class="w-5 h-5 text-primary rounded">
                            </div>
                            <div class="flex-1">
                                <h4 class="text-sm font-medium">更新问卷模板</h4>
                                <p class="text-xs text-gray-500 mt-1">截止日期：2023-08-20</p>
                            </div>
                            <div class="px-2 py-1 text-xs bg-primary/10 text-primary rounded">
                                正常
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    
    <!-- 脚本 -->
    <script>
        // 初始化图表
        document.addEventListener('DOMContentLoaded', function() {
            // 走访完成率图表
            const visitCtx = document.getElementById('visitCompletionChart').getContext('2d');
            const visitChart = new Chart(visitCtx, {
                type: 'line',
                data: {
                    labels: ['3月', '4月', '5月', '6月', '7月', '8月'],
                    datasets: [{
                        label: '走访完成率',
                        data: [85, 88, 90, 87, 92, 94],
                        borderColor: '#165DFF',
                        backgroundColor: 'rgba(22, 93, 255, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            }
                        }
                    }
                }
            });
            
            // 门店评分分布图表
            const ratingCtx = document.getElementById('storeRatingChart').getContext('2d');
            const ratingChart = new Chart(ratingCtx, {
                type: 'doughnut',
                data: {
                    labels: ['优秀(90-100)', '良好(80-89)', '一般(70-79)', '较差(60-69)', '不合格(<60)'],
                    datasets: [{
                        data: [35, 40, 15, 8, 2],
                        backgroundColor: [
                            '#00B42A',
                            '#165DFF',
                            '#FF7D00',
                            '#F7BA1E',
                            '#F53F3F'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                boxWidth: 12,
                                padding: 15,
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        });
        
        // 侧边栏切换功能
        document.getElementById('toggle-sidebar').addEventListener('click', function() {
            const sidebar = document.querySelector('aside');
            sidebar.classList.toggle('w-64');
            sidebar.classList.toggle('w-20');
            
            // 隐藏或显示文字
            const sidebarTexts = document.querySelectorAll('aside span');
            sidebarTexts.forEach(text => {
                text.classList.toggle('hidden');
            });
            
            const sidebarTitles = document.querySelectorAll('aside .text-xs');
            sidebarTitles.forEach(title => {
                title.classList.toggle('hidden');
            });
            
            const sidebarBrand = document.querySelector('aside h1');
            sidebarBrand.classList.toggle('hidden');
        });
    </script>
</body>
</html>