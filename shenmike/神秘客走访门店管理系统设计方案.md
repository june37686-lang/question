# 神秘客走访门店管理系统设计方案

## 一、系统概述

神秘客走访门店管理系统是一个集问卷设计、录音审核、成绩管理、门店申诉等功能于一体的综合性管理平台。系统分为管理后台和移动端微信小程序两部分，旨在规范神秘客走访流程，提高审核效率，确保评估结果的公平公正。

## 二、系统架构

### 2.1 整体架构

- **前端**：
  - 管理后台：HTML + Tailwind CSS + JavaScript
  - 移动端：微信小程序
- **后端**：
  - 服务器：Node.js/Java
  - 数据库：MySQL/MongoDB
  - 文件存储：云存储服务
  - AI语义理解：集成第三方语音识别和自然语言处理服务

### 2.2 系统模块

1. **管理后台模块**：
   - 问卷设计模块
   - 录音审核模块
   - 成绩管理模块
   - 门店申诉模块
   - 报告导出模块
   - 系统管理模块

2. **移动端模块**：
   - 问卷填写模块
   - 录音上传模块
   - 提交审核模块

## 三、核心功能设计

### 3.1 问卷设计模块

**功能要点**：
- 支持导入/删除门店主数据表
- 支持配置神秘客轮次
- 支持设计考试型问卷，包含多种题型
- 支持问卷模板管理和版更
- 支持条件跳转和显示逻辑

**设计细节**：
- 走访信息：门店/门诊名称、走访日期、神秘客期数、项目名称、客户姓名、手机号（下拉选择或输入）
- 题型支持：单选、评分多选、条件跳转、评分题、填空题、特殊题型（录音/图片上传）、说明题、下拉框
- 题干设置：字体大小、颜色、换行
- 选项设置：赋分、填空、说明、互斥
- 模块划分：预约服务、护理前接待、护理体验、护理后接待等

### 3.2 录音审核模块

**功能要点**：
- 支持AI语义理解，审核录音与问卷打分一致性
- 独立第三方账户体系和角色管理
- 录音访问权限控制
- 任务分配与管理
- 录音审核过程记录

**设计细节**：
- 时间戳标记：在播放录音时标记对应问题的时间点
- 跳转播放：点击问题自动跳转到标记时间点
- 片段循环播放：反复确认细节
- 审核结论录入：判断神秘客填写是否准确
- 必填说明框：选择"不准确"时强制填写原因

### 3.3 成绩管理模块

**功能要点**：
- 计分规则配置
- 扣分逻辑审核
- 单店成绩报告自动生成
- 成绩通知公示

**设计细节**：
- NA项分数处理：最终得分率=门店得分/(总分-NA项分值)*100%
- 扣分原因标注：识别作答逻辑相悖情况
- 门店成绩查看：门店登录查看单店报告
- 报告内容：排名、各版块得分率、环比数据、各轮次得分趋势、总分及各模块分数、扣分原因

### 3.4 门店申诉模块

**功能要点**：
- 申诉时效设置
- 申诉入口管理
- 申诉内容及形式管理
- 申诉判定和处理
- 单店报告自动更新

**设计细节**：
- 申诉时效：可设置申诉时间（默认5个工作日）
- 申诉内容：申诉模块、申诉题目、申诉理由、凭证上传
- 申诉处理：逐条显示申诉内容、填写审核意见、处理结果
- 报告更新：根据申诉结果自动更新分数

### 3.5 报告导出模块

**功能要点**：
- 最终报告PPT导出
- 单店报告下载

**设计细节**：
- 支持门店登录下载单店报告
- 支持管理员导出最终汇总报告

## 四、移动端微信小程序设计

**功能要点**：
- 问卷填写：自动适配手机/Pad/PC
- 必填项验证
- 自动本地缓存
- 防意外退出，可继续作答
- 限制同一设备/IP答题次数
- 问卷提交：未完整作答提醒、二次确认弹窗、防重复提交

**设计细节**：
- 界面设计简洁直观，符合移动端操作习惯
- 表单填写支持自动保存
- 录音功能支持后台录制
- 提交后生成唯一提交码

## 五、系统安全与性能

### 5.1 安全设计
- 用户权限管理：基于角色的访问控制
- 数据加密：敏感信息加密存储
- 操作日志：记录关键操作
- 防数据泄露：禁止下载原始录音文件

### 5.2 性能优化
- 数据库索引优化
- 图片和录音文件压缩存储
- 页面响应速度优化
- 并发处理机制

## 六、实施计划

1. **需求分析与设计阶段**：1-2周
2. **系统开发阶段**：6-8周
3. **测试与优化阶段**：2-3周
4. **上线与运维阶段**：持续进行

## 七、技术选型建议

1. **前端技术栈**：
   - React/Vue.js框架
   - Tailwind CSS样式框架
   - Axios网络请求
   - ECharts图表库

2. **后端技术栈**：
   - Node.js/Express.js
   - MongoDB/MySQL数据库
   - Redis缓存
   - JWT身份认证

3. **第三方服务**：
   - 腾讯云/阿里云存储
   - 百度AI/讯飞语音识别
   - 微信小程序开发框架

---

以上是神秘客走访门店管理系统的完整设计方案。系统将通过规范化的流程设计和先进的技术手段，确保神秘客走访评估工作的高效、公正和准确。